!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){},function(e,t,n){e.exports=n.p+"assets/img/logo.png"},function(e,t,n){e.exports=n.p+"assets/img/favicon16.ico"},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(0),n(25),n(1),n(2),n(26),n(27),n(28),n(29);var o=1,s=document.getElementById("edit-content"),a=document.getElementById("settings-overlay");document.addEventListener("click",function(e){e.preventDefault();var t=e.target;switch(!0){case t.classList.contains("close-edit"):s.classList.toggle("show");break;case t.classList.contains("add-data"):c(t);break;case t.classList.contains("edit-data"):i(t);break;case t.closest("a")&&t.closest("a").classList.contains("delete-data"):r(t.closest("a.delete-data"));break;case t.closest("a")&&t.closest("a").classList.contains("edit-form"):l(t.closest("a.edit-form"));break;case t.classList.contains("add-new-flavour"):d(t);break;case t.closest("button")&&t.closest("button").classList.contains("show-settings"):a.classList.toggle("display-grid");break;case t.classList.contains("btn-primary"):case t.classList.contains("btn-secondary"):t.nextElementSibling.classList.toggle("display-grid");break;default:console.log("error")}});var c=function(e){var t="status-message",n=e.closest("div"),o=document.createElement("div");n.after(o);var s=document.querySelectorAll("[data-category^=".concat(e.id)),a=e.id.split("-");"admin"===a[0]&&(t="status-message-two-column"),o.classList.add("hide",t);var c=new FormData;s.forEach(function(e){c.append(e.name,e.value)}),c.append("categoryType",a[0]),c.append("actionType",a[1]);var i=document.createElement("div");i.classList.add("sk-folding-cube","btn-col-right"),i.innerHTML='\n            <div class="sk-cube1 sk-cube"></div>\n            <div class="sk-cube2 sk-cube"></div>\n            <div class="sk-cube4 sk-cube"></div>\n            <div class="sk-cube3 sk-cube"></div>\n        ',e.classList.add("hide"),n.appendChild(i),fetch("./async/create.php",{method:"POST",body:c}).then(function(e){return e.text()}).then(function(t){setTimeout(function(){t?(o.innerHTML="Houve um erro ao inserir!",o.style.color="red"):(o.innerHTML="Informacao inserida!",o.style.color="green"),o.classList.remove("hide"),e.classList.remove("hide"),i.remove(),setTimeout(function(){o.classList.add("hide"),o.innerHTML=""},5e3)},3e3),console.log(t)}).catch(function(e){console.log(e)})},i=function(e){var t=e.closest("div"),n=document.createElement("div");t.after(n),n.classList.add("hide","status-message-two-column");var o=document.querySelectorAll("[data-category^=".concat(e.id)),s=e.id.split("-"),a="".concat(s[0],"-").concat(s[1],"-id"),c=e.getAttribute("data-".concat(a)),i=new FormData;o.forEach(function(e){i.append(e.name,e.value)}),i.append("itemID",c),i.append("categoryType",s[0]),i.append("actionType",s[1]);var r=document.createElement("div");r.classList.add("sk-folding-cube","btn-col-right"),r.innerHTML='\n            <div class="sk-cube1 sk-cube"></div>\n            <div class="sk-cube2 sk-cube"></div>\n            <div class="sk-cube4 sk-cube"></div>\n            <div class="sk-cube3 sk-cube"></div>\n        ',e.classList.add("hide"),t.appendChild(r),fetch("./async/edit.php",{method:"POST",body:i}).then(function(e){return e.text()}).then(function(t){setTimeout(function(){t?(n.innerHTML="Houve um erro ao actualizar!",n.style.color="red"):(n.innerHTML="Informacao actualizada!",n.style.color="green"),n.classList.remove("hide"),e.classList.remove("hide"),r.remove(),setTimeout(function(){n.classList.add("hide"),n.innerHTML=""},3e3)},1500),console.log(t)}).catch(function(t){n.innerHTML="Houve um erro ao actualizar!",n.style.color="red",n.classList.remove("hide"),e.classList.remove("hide"),r.remove(),setTimeout(function(){n.classList.add("hide"),n.innerHTML=""},1500),console.log(t)})},r=function(e){var t=new FormData,n=e.getAttribute("data-category"),o=e.getAttribute("data-".concat(n,"-id"));t.append("itemID",o),t.append("categoryType",n),t.append("actionType","delete"),fetch("./async/delete.php",{method:"POST",body:t}).then(function(e){return e.text()}).then(function(t){var o,s,a=e.closest("span");if("place"==n?o=5:"flavour"==n||"product"==n?o=2:"admin"==n&&(o=3),t)console.log(t);else for(var c=0;c<o;c++)s=a.previousElementSibling,a.remove(),a=s}).catch(function(e){console.log(e)})},l=function(e){var t=!!e.getAttribute("data-category")&&e.getAttribute("data-category"),n=e.getAttribute("data-".concat(t,"-id"));t&&function(e,t){var n=new FormData;n.append("contentType",e),n.append("contentID",t),fetch("./async/fetch-to-edit.php",{method:"POST",body:n}).then(function(e){return e.text()}).then(function(e){99!=e?(console.log(e),s.innerHTML=e):console.log(e)}).catch(function(e){console.log(e)})}(t,n),s.classList.toggle("show")},d=function(e){o++;var t=document.createElement("select");t.name="flavour_"+o;var n=e.parentNode,s=e.previousElementSibling,a=s.getAttribute("data-category").split("-");t.setAttribute("data-category","product-"+a[1]+"-input_"+o),fetch("./async/fetch-flavours-list.php",{method:"GET"}).then(function(e){return e.text()}).then(function(e){t.innerHTML=e,n.insertBefore(t,s.nextSibling),console.log("worked")}).catch(function(e){console.log(e)})}},function(e,t,n){},function(e,t,n){e.exports=n.p+"assets/img/edit.svg"},function(e,t,n){e.exports=n.p+"assets/img/remove.svg"},function(e,t,n){e.exports=n.p+"assets/img/settings.svg"},function(e,t,n){e.exports=n.p+"assets/img/logout.svg"}]);