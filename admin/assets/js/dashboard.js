!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=24)}([function(e,t,a){},function(e,t,a){e.exports=a.p+"assets/img/logo.png"},function(e,t,a){e.exports=a.p+"assets/img/favicon16.ico"},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);a(0),a(25),a(1),a(2),a(26),a(27),a(28),a(29);var n=1,i=document.getElementById("edit-content"),o=document.getElementById("settings-overlay");document.addEventListener("click",function(e){e.preventDefault();var t=e.target;switch(!0){case t.classList.contains("close-edit"):i.classList.toggle("show");break;case t.classList.contains("add-data"):s(t);break;case t.classList.contains("edit-data"):c(t);break;case t.closest("a")&&t.closest("a").classList.contains("delete-data"):r(t.closest("a.delete-data"));break;case t.closest("a")&&t.closest("a").classList.contains("edit-form"):l(t.closest("a.edit-form"));break;case t.classList.contains("add-new-flavour"):d(t);break;case t.closest("button")&&t.closest("button").classList.contains("show-settings"):o.classList.toggle("display-grid");break;case t.classList.contains("btn-primary"):case t.classList.contains("btn-secondary"):t.nextElementSibling.classList.toggle("display-grid");break;default:console.log("error")}});var s=function(e){var t="status-message",a=e.closest("div"),n=document.createElement("div");a.after(n);var i=document.querySelectorAll("[data-category^=".concat(e.id)),o=e.id.split("-");"admin"===o[0]&&(t="status-message-two-column"),n.classList.add("hide",t);var s=new FormData;i.forEach(function(e){s.append(e.name,e.value)}),s.append("categoryType",o[0]),s.append("actionType",o[1]);var c=document.createElement("div");c.classList.add("sk-folding-cube","btn-col-right"),c.innerHTML='\n            <div class="sk-cube1 sk-cube"></div>\n            <div class="sk-cube2 sk-cube"></div>\n            <div class="sk-cube4 sk-cube"></div>\n            <div class="sk-cube3 sk-cube"></div>\n        ',e.classList.add("hide"),a.appendChild(c),fetch("./async/create.php",{method:"POST",body:s}).then(function(e){return e.text()}).then(function(t){setTimeout(function(){t?(n.innerHTML="Houve um erro ao inserir!",n.style.color="red"):(n.innerHTML="Informacao inserida!",n.style.color="green"),n.classList.remove("hide"),e.classList.remove("hide"),c.remove(),setTimeout(function(){n.classList.add("hide"),n.innerHTML=""},5e3)},3e3),console.log(t)}).catch(function(e){console.log(e)})},c=function(e){var t=e.closest("div"),a=document.createElement("div");t.after(a),a.classList.add("hide","status-message-two-column");var n=document.querySelectorAll("[data-category^=".concat(e.id)),i=e.id.split("-"),o="".concat(i[0],"-").concat(i[1],"-id"),s=e.getAttribute("data-".concat(o)),c=new FormData;n.forEach(function(e){c.append(e.name,e.value)}),c.append("itemID",s),c.append("categoryType",i[0]),c.append("actionType",i[1]);var r=document.createElement("div");r.classList.add("sk-folding-cube","btn-col-right"),r.innerHTML='\n            <div class="sk-cube1 sk-cube"></div>\n            <div class="sk-cube2 sk-cube"></div>\n            <div class="sk-cube4 sk-cube"></div>\n            <div class="sk-cube3 sk-cube"></div>\n        ',e.classList.add("hide"),t.appendChild(r),fetch("./async/edit.php",{method:"POST",body:c}).then(function(e){return e.text()}).then(function(t){setTimeout(function(){t?(a.innerHTML="Houve um erro ao actualizar!",a.style.color="red"):(a.innerHTML="Informacao actualizada!",a.style.color="green"),a.innerHTML="Houve um erro ao actualizar!",a.style.color="red",a.classList.remove("hide"),e.classList.remove("hide"),r.remove(),setTimeout(function(){a.classList.add("hide"),a.innerHTML=""},3e3)},1500),console.log(t)}).catch(function(t){a.innerHTML="Houve um erro ao actualizar!",a.style.color="red",a.classList.remove("hide"),e.classList.remove("hide"),r.remove(),setTimeout(function(){a.classList.add("hide"),a.innerHTML=""},1500),console.log(t)})},r=function(e){var t=new FormData,a=e.getAttribute("data-category"),n=e.getAttribute("data-".concat(a,"-id"));t.append(n,"id"),t.append(a,"category"),fetch("./async/delete.php",{method:"POST",body:t}).then(function(e){return e.text()}).then(function(t){var n,i,o=e.closest("span");if("place"==a?n=5:"flavour"==a||"product"==a?n=2:"admin"==a&&(n=3),t)console.log(t);else for(var s=0;s<n;s++)i=o.previousElementSibling,o.remove(),o=i}).catch(function(e){console.log(e)})},l=function(e){var t=!!e.getAttribute("data-category")&&e.getAttribute("data-category");e.getAttribute("data-".concat(t,"-id"));if(t){var a="";switch(t){case"admin":a='\n    <div class="edit-form-layout">\n        <form action="#">\n            <h2>Editar Administrador</h2>\n            <label for="email">E-mail*</label>\n            <input type="email" name="email" data-category="admin-edit-input">\n            <label for="password">Palavra Passe*</label>\n            <input type="passwird" name="pwd" data-category="admin-edit-input">\n            <label for="name">Nome*</label>\n            <input type="text" name="name" data-category="admin-edit-input">\n            <label for="phoneNumber">Telefone</label>\n            <input type="tel" name="phoneNumber" data-category="admin-edit-input">\n            <div class="edit-btns">\n                <a class="close-edit self-left">Voltar</a>\n                <button type="submit" class="btn-form-insert edit-data" id="admin-edit-input" data-admin-edit-id="1">Editar</button> \n            </div>\n        </form>\n        <div class="hide status-message-two-column"></div>\n    </div>\n';break;case"place":a='\n    <div class="edit-form-layout">\n        <form action="#">\n            <h2>Editar Destino</h2>\n            <label for="">Cidade</label>\n            <input type="text" name="city" data-category="place-edit-input">\n            <label for="">Desde</label>\n            <input type="date" name="start" data-category="place-edit-input">\n            <label for="">Ate</label>\n            <input type="date" name="end" data-category="place-edit-input">\n            <label for="">Latitude</label>\n            <input type="text" name="latitude" data-category="place-edit-input">\n            <label for="">Longitude</label>\n            <input type="text" name="longitude" data-category="place-edit-input">\n\n            <div class="edit-btns">\n                <a class="close-edit self-left">Voltar</a>\n                <button type="submit" class="btn-form-insert edit-data" id="place-edit-input" data-place-edit-id="1">Editar</button> \n            </div>\n        </form>\n        <div class="hide status-message-two-column"></div>\n    </div>\n    \n';break;case"flavour":a='\n    <div class="edit-form-layout">\n        <form action="#">\n            <h2>Editar Sabor</h2>\n            <label for="">Portugues</label>\n            <input type="text" name="flavours_PT" data-category="flavour-edit-input">\n            <label for="">Ingles</label>\n            <input type="text" name="flavours_EN" data-category="flavour-edit-input">\n\n            <div class="edit-btns">\n                <a class="close-edit self-left">Voltar</a>\n                <button type="submit" class="btn-form-insert edit-data" id="flavour-edit-input" data-flavour-edit-id="1">Editar</button> \n            </div>\n        </form>\n        <div class="hide status-message-two-column"></div>\n    </div>\n';break;case"product":a='\n    <div class="edit-form-layout"> \n        <form action="#">\n            <h2>Editar Produto</h2>\n            <label for="">Portugues</label>\n            <input type="text" name="flavours_PT" data-category="product-edit-input">\n            <label for="">Ingles</label>\n            <input type="text" name="flavours_EN" data-category="product-edit-input">\n            <label for="editFlavourList">Sabores</label>\n            <select name="flavour_1" data-category="product-edit-input_1">\n                <option value="1" selected>Nutella</option>\n                <option value="2">Chocolate</option>\n            </select>\n            <a class="add-new-flavour" style="width: fit-content; background-color: transparent; border: none; outline: none; color: #6495ed">Adicionar novo ?</a>\n\n            <div class="edit-btns">\n                <a class="close-edit self-left">Voltar</a>\n\n                <button type="submit" class="btn-form-insert edit-data" id="product-edit-input" data-product-edit-id="1">Editar</button> \n            </div>\n        </form>        \n        <div class="hide status-message-two-column"></div>\n    </div>\n';break;default:a=""}i.innerHTML=a}i.classList.toggle("show")},d=function(e){n++;var t=document.createElement("select");t.name="flavour_"+n;var a=e.parentNode,i=e.previousElementSibling,o=i.getAttribute("data-category").split("-");t.setAttribute("data-category","product-"+o[1]+"-input_"+n),fetch("./async/fetch-flavours-list.php",{method:"GET"}).then(function(e){return e.text()}).then(function(e){t.innerHTML=e,a.insertBefore(t,i.nextSibling),console.log("worked")}).catch(function(e){console.log(e)})}},function(e,t,a){},function(e,t,a){e.exports=a.p+"assets/img/edit.svg"},function(e,t,a){e.exports=a.p+"assets/img/remove.svg"},function(e,t,a){e.exports=a.p+"assets/img/settings.svg"},function(e,t,a){e.exports=a.p+"assets/img/logout.svg"}]);